{"version":3,"sources":["carScheme.png","media/Privat24_QR.jpg","components/data/index.js","util/ImageMapper.js","components/ride.js","actions/ticketActions.js","actions/actionTypes.js","components/rideSummary.js","components/ridesList.js","components/checkout.js","components/success.js","components/main.js","actions/rideActions.js","App.js","store.js","reducers/rideReducer.js","reducers/ticketReducer.js","serviceWorker.js","index.js"],"names":["module","exports","cities","label","value","ImageMapper","props","forEach","f","bind","absPos","position","top","left","styles","container","canvas","pointerEvents","zIndex","img","userSelect","map","onClick","cursor","undefined","watchedProps","nextProps","propChanged","this","some","prop","isEqual","state","updateCacheMap","setState","JSON","parse","stringify","initCanvas","coords","fillColor","lineWidth","strokeColor","right","bot","ctx","fillStyle","strokeStyle","strokeRect","fillRect","beginPath","arc","Math","PI","closePath","stroke","fill","reduce","a","v","i","s","slice","first","unshift","moveTo","c","lineTo","width","height","clientWidth","clientHeight","style","getContext","onLoad","renderPrefilledAreas","area","index","event","shape","target","getAttribute","disabled","split","onMouseEnter","active","clearRect","onMouseLeave","preventDefault","onImageClick","onMouseMove","onImageMouseMove","imgWidth","scale","coord","areas","preFillColor","scaleCoords","scaledCoords","n","length","val","idx","y","x","center","computeCenter","extendedArea","key","_id","join","hoverOn","hoverOff","mouseMove","click","href","ref","node","src","useMap","name","alt","imageClick","imageMouseMove","renderAreas","Component","defaultProps","random","Ride","ride","wagons","dispatch","useDispatch","useState","myRide","setMyRide","slotOrders","setSlotOrders","carts","currentWagon","setCurrentWagon","cartMap","setCartMap","useEffect","wagon","find","carType","slots","seat","cartNumber","number","slot","seatNumber","push","available","price","orderList","className","removeFromOrderList","filter","changeAvailability","findIndex","wagonTabs","cart","handleCart","clicked","newSlotOrders","handleSlot","msg","carScheme","type","payload","error","message","rideSummary","availableSlots","count","minPrice","departTime","arrivalTime","depart","arrival","travelTime","RidesList","rides","details","id","Checkout","tickets","useSelector","bookedTickets","rideDetails","payMethod","setMethod","phone","setPhone","ticketList","item","date","substring","onChange","htmlFor","checked","readOnly","QR","placeholder","mask","maskChar","payment","e","rideId","axios","post","apiUrl","Main","departCity","arrivalCity","selectedDay","rideRequest","setRideRequest","setMessage","success","rideList","today","Date","options","city","isClearable","disabledDays","before","selectedDays","onDayClick","day","selected","localeUtils","MomentLocaleUtils","locale","numberOfMonths","window","innerWidth","toISOString","data","then","document","getElementById","scrollIntoView","rideChoosen","result","indexOf","Array","isArray","App","reducer","combineReducers","loading","action","composeEnhancer","compose","store","createStore","applyMiddleware","thunk","Boolean","location","hostname","match","app","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.33f4b865.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/carScheme.5212d7e4.png\";","module.exports = __webpack_public_path__ + \"static/media/Privat24_QR.29dd6ddf.jpg\";","export const cities = [\n  {label: 'Київ', value: 'Київ'},\n  {label: 'Харків', value: 'Харків'},\n  {label: 'Львів', value: 'Львів'},\n  {label: 'Дніпро', value: 'Дніпро'},\n  {label: 'Одеса', value: 'Одеса'},\n];\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport isEqual from \"react-fast-compare\";\n\nexport default class ImageMapper extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t[\n\t\t\t\"drawrect\",\n\t\t\t\"drawcircle\",\n\t\t\t\"drawpoly\",\n\t\t\t\"initCanvas\",\n\t\t\t\"renderPrefilledAreas\"\n\t\t].forEach(f => (this[f] = this[f].bind(this)));\n\t\tlet absPos = { position: \"absolute\", top: 0, left: 0 };\n\t\tthis.styles = {\n\t\t\tcontainer: { position: \"relative\" },\n\t\t\tcanvas: { ...absPos, pointerEvents: \"none\", zIndex: 2 },\n\t\t\timg: { ...absPos, zIndex: 1, userSelect: \"none\" },\n\t\t\tmap: (props.onClick && { cursor: \"pointer\" }) || undefined\n\t\t};\n\t\t// Props watched for changes to trigger update\n\t\tthis.watchedProps = [\n\t\t\t\"active\",\n\t\t\t\"fillColor\",\n\t\t\t\"height\",\n\t\t\t\"imgWidth\",\n\t\t\t\"lineWidth\",\n\t\t\t\"src\",\n\t\t\t\"strokeColor\",\n\t\t\t\"width\",\n\t\t\t\"map\",\n\t\t];\n\t}\n\n\tshouldComponentUpdate(nextProps) {\n\t\tconst propChanged = this.watchedProps.some(\n\t\t\tprop => this.props[prop] !== nextProps[prop]\n\t\t);\n\t\treturn !isEqual(this.props.map, this.state.map) || propChanged;\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.updateCacheMap();\n\t}\n\n\tupdateCacheMap() {\n\t\tthis.setState(\n\t\t\t{ map: JSON.parse(JSON.stringify(this.props.map)) },\n\t\t\tthis.initCanvas\n\t\t);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updateCacheMap();\n\t\tthis.initCanvas();\n\t}\n\n\tdrawrect(coords, fillColor, lineWidth, strokeColor) {\n\t\tlet [left, top, right, bot] = coords;\n\t\tthis.ctx.fillStyle = fillColor;\n\t\tthis.ctx.lineWidth = lineWidth;\n\t\tthis.ctx.strokeStyle = strokeColor;\n\t\tthis.ctx.strokeRect(left, top, right - left, bot - top);\n\t\tthis.ctx.fillRect(left, top, right - left, bot - top);\n\t\tthis.ctx.fillStyle = this.props.fillColor;\n\t}\n\n\tdrawcircle(coords, fillColor, lineWidth, strokeColor) {\n\t\tthis.ctx.fillStyle = fillColor;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.lineWidth = lineWidth;\n\t\tthis.ctx.strokeStyle = strokeColor;\n\t\tthis.ctx.arc(coords[0], coords[1], coords[2], 0, 2 * Math.PI);\n\t\tthis.ctx.closePath();\n\t\tthis.ctx.stroke();\n\t\tthis.ctx.fill();\n\t\tthis.ctx.fillStyle = this.props.fillColor;\n\t}\n\n\tdrawpoly(coords, fillColor, lineWidth, strokeColor) {\n\t\tcoords = coords.reduce(\n\t\t\t(a, v, i, s) => (i % 2 ? a : [...a, s.slice(i, i + 2)]),\n\t\t\t[]\n\t\t);\n\t\t\n\t\tthis.ctx.fillStyle = fillColor;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.lineWidth = lineWidth;\n\t\tthis.ctx.strokeStyle = strokeColor;\n\t\tlet first = coords.unshift();\n\t\tthis.ctx.moveTo(first[0], first[1]);\n\t\tcoords.forEach(c => this.ctx.lineTo(c[0], c[1]));\n\t\tthis.ctx.closePath();\n\t\tthis.ctx.stroke();\n\t\tthis.ctx.fill();\n\t\tthis.ctx.fillStyle = this.props.fillColor;\n\t}\n\n\tinitCanvas() {\n\t\tif (this.props.width) this.img.width = this.props.width;\n\n\t\tif (this.props.height) this.img.height = this.props.height;\n\n\t\tthis.canvas.width = this.props.width || this.img.clientWidth;\n\t\tthis.canvas.height = this.props.height || this.img.clientHeight;\n\t\tthis.container.style.width =\n\t\t\t(this.props.width || this.img.clientWidth) + \"px\";\n\t\tthis.container.style.height =\n\t\t\t(this.props.height || this.img.clientHeight) + \"px\";\n\t\tthis.ctx = this.canvas.getContext(\"2d\");\n\t\tthis.ctx.fillStyle = this.props.fillColor;\n\t\t//this.ctx.strokeStyle = this.props.strokeColor;\n\n\t\tif (this.props.onLoad) this.props.onLoad();\n\n\t\tthis.renderPrefilledAreas();\n\t}\n\n\thoverOn(area, index, event) {\n\t\tconst shape = event.target.getAttribute(\"shape\");\n\n\t\tif (!area.disabled && this[\"draw\" + shape]) {\n\t\t\tthis[\"draw\" + shape](\n\t\t\t\tevent.target.getAttribute(\"coords\").split(\",\"),\n\t\t\t\tarea.fillColor,\n\t\t\t\tarea.lineWidth || this.props.lineWidth,\n\t\t\t\tarea.strokeColor || this.props.strokeColor\n\t\t\t);\n\t\t}\n\t\tif (this.props.onMouseEnter) this.props.onMouseEnter(area, index, event);\n\t}\n\n\thoverOff(area, index, event) {\n\t\tif (this.props.active) {\n\t\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t\t\tthis.renderPrefilledAreas();\n\t\t}\n\n\t\tif (this.props.onMouseLeave) this.props.onMouseLeave(area, index, event);\n\t}\n\n\tclick(area, index, event) {\n\t\tif (this.props.onClick) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onClick(area, index, event);\n\t\t}\n\t}\n\n\timageClick(event) {\n\t\tif (this.props.onImageClick) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onImageClick(event);\n\t\t}\n\t}\n\n\tmouseMove(area, index, event) {\n\t\tif (this.props.onMouseMove) {\n\t\t\tthis.props.onMouseMove(area, index, event);\n\t\t}\n\t}\n\n\timageMouseMove(area, index, event) {\n\t\tif (this.props.onImageMouseMove) {\n\t\t\tthis.props.onImageMouseMove(area, index, event);\n\t\t}\n\t}\n\n\tscaleCoords(coords) {\n\t\tconst { imgWidth, width } = this.props;\n\t\t// calculate scale based on current 'width' and the original 'imgWidth'\n\t\tconst scale = width && imgWidth && imgWidth > 0 ? width / imgWidth : 1;\n\t\treturn coords.map(coord => coord * scale);\n\t}\n\n\trenderPrefilledAreas() {\n\t\tthis.state.map.areas.map(area => {\n\t\t\tif (!area.preFillColor) return;\n\t\t\tthis[\"draw\" + area.shape](\n\t\t\t\tthis.scaleCoords(area.coords),\n\t\t\t\tarea.preFillColor,\n\t\t\t\tarea.lineWidth || this.props.lineWidth,\n\t\t\t\tarea.strokeColor || this.props.strokeColor\n\t\t\t);\n\t\t});\n\t}\n\n\tcomputeCenter(area) {\n\t\tif (!area) return [0, 0];\n\n\t\tconst scaledCoords = this.scaleCoords(area.coords);\n\n\t\tswitch (area.shape) {\n\t\t\tcase \"circle\":\n\t\t\t\treturn [scaledCoords[0], scaledCoords[1]];\n\t\t\tcase \"poly\":\n\t\t\tcase \"rect\":\n\t\t\tdefault: {\n\t\t\t\t// Calculate centroid\n\t\t\t\tconst n = scaledCoords.length / 2;\n\t\t\t\tconst { y, x } = scaledCoords.reduce(\n\t\t\t\t\t({ y, x }, val, idx) => {\n\t\t\t\t\t\treturn !(idx % 2) ? { y, x: x + val / n } : { y: y + val / n, x };\n\t\t\t\t\t},\n\t\t\t\t\t{ y: 0, x: 0 }\n\t\t\t\t);\n\t\t\t\treturn [x, y];\n\t\t\t}\n\t\t}\n\t}\n\n\trenderAreas() {\n\t\treturn this.state.map.areas.map((area, index) => {\n\t\t\tconst scaledCoords = this.scaleCoords(area.coords);\n\t\t\tconst center = this.computeCenter(area);\n\t\t\tconst extendedArea = { ...area, scaledCoords, center };\n\t\t\treturn (\n\t\t\t\t<area\n\t\t\t\t\tkey={area._id || index}\n\t\t\t\t\tshape={area.shape}\n\t\t\t\t\tcoords={scaledCoords.join(\",\")}\n\t\t\t\t\tonMouseEnter={this.hoverOn.bind(this, extendedArea, index)}\n\t\t\t\t\tonMouseLeave={this.hoverOff.bind(this, extendedArea, index)}\n\t\t\t\t\tonMouseMove={this.mouseMove.bind(this, extendedArea, index)}\n\t\t\t\t\tonClick={this.click.bind(this, extendedArea, index)}\n\t\t\t\t\thref={area.href}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={this.styles.container} ref={node => (this.container = node)}>\n\t\t\t\t<img\n\t\t\t\t\tstyle={this.styles.img}\n\t\t\t\t\tsrc={this.props.src}\n\t\t\t\t\tuseMap={`#${this.state.map.name}`}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tref={node => (this.img = node)}\n\t\t\t\t\tonLoad={this.initCanvas}\n\t\t\t\t\tonClick={this.imageClick.bind(this)}\n\t\t\t\t\tonMouseMove={this.imageMouseMove.bind(this)}\n\t\t\t\t/>\n\t\t\t\t<canvas ref={node => (this.canvas = node)} style={this.styles.canvas} />\n\t\t\t\t<map name={this.state.map.name} style={this.styles.map}>\n\t\t\t\t\t{this.renderAreas()}\n\t\t\t\t</map>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nImageMapper.defaultProps = {\n\tactive: true,\n\tfillColor: \"rgba(255, 255, 255, 0.5)\",\n\tlineWidth: 1,\n\tmap: {\n\t\tareas: [],\n\t\tname: \"image-map-\" + Math.random()\n\t},\n\tstrokeColor: \"rgba(0, 0, 0, 0.5)\"\n};\n\nImageMapper.propTypes = {\n\tactive: PropTypes.bool,\n\tfillColor: PropTypes.string,\n\theight: PropTypes.number,\n\timgWidth: PropTypes.number,\n\tlineWidth: PropTypes.number,\n\tsrc: PropTypes.string.isRequired,\n\tstrokeColor: PropTypes.string,\n\twidth: PropTypes.number,\n\n\tonClick: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\tonImageClick: PropTypes.func,\n\tonImageMouseMove: PropTypes.func,\n\tonLoad: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\n\tmap: PropTypes.shape({\n\t\tareas: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\tarea: PropTypes.shape({\n\t\t\t\t\tcoords: PropTypes.arrayOf(PropTypes.number),\n\t\t\t\t\thref: PropTypes.string,\n\t\t\t\t\tshape: PropTypes.string,\n\t\t\t\t\tpreFillColor: PropTypes.string,\n\t\t\t\t\tfillColor: PropTypes.string\n\t\t\t\t})\n\t\t\t})\n\t\t),\n\t\tname: PropTypes.string\n\t})\n};\n","import React, {useState, useEffect} from 'react';\nimport carScheme from '../carScheme.png'; \nimport ImageMapper from '../util/ImageMapper';\nimport { useDispatch } from 'react-redux';\nimport { bookTickets } from '../actions/ticketActions';\n\nfunction Ride({ride, wagons}) {\n  const dispatch = useDispatch();\n  const [ state, setState ] = useState(0);\n  const [ myRide, setMyRide ] = useState(ride);\n  const [ slotOrders, setSlotOrders] = useState([]);\n  const [ currentWagon, setCurrentWagon ] = useState(ride.carts[0]);\n  const [ cartMap, setCartMap ] = useState({ name: \"my-map\", areas: []});\n  const NOT_AVAILABLE = \"rgba(255, 0, 0, 0.5)\";\n\n  useEffect(() => {\n    const wagon = currentWagon && wagons.find(wagon => wagon.name === currentWagon.carType );\n    let areas = [];\n    myRide.slots.forEach(seat => {\n      if (seat.cartNumber === currentWagon.number){\n        const slot = wagon.slots.find(slot => slot.name === seat.seatNumber );\n        areas.push({ \n          disabled: seat.available ? false : true, \n          name: seat.seatNumber,\n          shape: \"rect\", \n          coords: slot.coords, \n          preFillColor: seat.available ? \"\" : NOT_AVAILABLE, \n          fillColor: \"rgba(0, 0, 255, 0.3)\", \n          available: seat.available, \n          price: seat.price\n        })\n      }\n    });\n    setCartMap({...cartMap, areas});\n    return () => {};\n  }, [currentWagon, myRide]);\n\n/*  useEffect(() => {\n    return () => {};\n  }, [cartMap]);\n*/\n\n  const handleBooking = () => {\n    dispatch(bookTickets(slotOrders));\n  }\n\n  const orderList = slotOrders.map((slot, index) => {\n    return <div className=\"slot-wrapper\" key={index}>\n      <div className=\"\">\n        <p>Вагон&nbsp;{slot.wagon} Місце&nbsp;{slot.seatNumber}</p>\n      </div>\n      <div className=\"\">\n        <button onClick={() => removeFromOrderList(slot.wagon, slot.seatNumber)} className=\"button-remove\">X</button>\n      </div>\n    </div>\n  })\n\n  const removeFromOrderList = (wagon, seatNumber) => {\n    setSlotOrders(slotOrders.filter(slot => (slot.seatNumber !== seatNumber) || ( slot.wagon !== wagon )));\n    changeAvailability(wagon, seatNumber);\n  }\n\n  const changeAvailability = (wagon, seat) => {\n    let slots = myRide.slots;\n    let i = slots.findIndex(slot => (slot.seatNumber === seat) && ( slot.cartNumber === wagon ))\n    slots[i] = ({...slots[i], available: !slots[i].available})\n    setMyRide ({...myRide, slots: slots});\n  } \n\n  const handleSlot = (area) => {\n    if (!area.disabled) {\n    let newSlotOrders = slotOrders.filter(slot => (slot.seatNumber !== area.name) || ( slot.wagon !== currentWagon.number ));\n    setSlotOrders([...newSlotOrders, {wagon:currentWagon.number, seatNumber:area.name, price:area.price}]);\n    changeAvailability(currentWagon.number, area.name);\n    }\n  }\n\n  const handleCart = (cart) => {\n    setCurrentWagon(cart);\n  }\n\n  const wagonTabs = myRide.carts.map((cart, index) => {\n    return <div className={`cart-tabs ${currentWagon.number === cart.number ? `cart-selected` : null }`} key={index} onClick={() => handleCart(cart)}>\n      <p> Вагон {cart.number}</p>\n      <p> {cart.carType} </p>\n    </div>\n  })\n\n  const load = () => {\n    setState({ ...state, msg: \"Interact with image !\" });\n  };\n  \n\tconst clicked = (area) => {\n    handleSlot(area);\n\t\tsetState({\n      ...state,\n\t\t\tmsg: `Місце номер ${area.name} коштує ${area.price} ${area.available? \"доступне\" : \"недоступне\"}`\n    });\n  };\n  \n /*\n  const moveOnArea = (area, evt) => {\n\t\tconst coords = { x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY };\n\t\tsetState({\n      ...state,\n\t\t\tmoveMsg: `You moved on ${area.shape} ${\n\t\t\t\tarea.name\n\t\t\t} at coords ${JSON.stringify(coords)} !`\n\t\t});\n\t};\n\n  const enterArea = (area) => {\n      setState({ ...state, hoveredArea: area });\n  }\n\n  const leaveArea = (area) => {\n      setState({...state, hoveredArea: null });\n  }\n\n  const getTipPosition = (area) => {\n      return { top: `${area.center[1]}px`, left: `${area.center[0]}px` };\n  }\n\n  const clickedOutside = (evt) => {\n\t\tconst coords = { x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY };\n\t\tsetState({\n      ...state,\n\t\t\tmsg: `You clicked on the image at coords ${JSON.stringify(coords)} !`\n\t\t});\n  };\n  \n\tconst moveOnImage = (evt) => {\n\t\tconst coords = { x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY };\n\t\tsetState({\n      ...state,\n\t\t\tmoveMsg: `You moved on the image at coords ${JSON.stringify(coords)} !`\n\t\t});\n\t};\n*/\n\n  return (\n    <div className=\"Main\">\n      <div className=\"tabs-wrapper\"> \n        {wagonTabs} \n      </div>\n      <div className=\"scheme-wrapper\">\n      <div className=\"scheme-container\">\n      {cartMap && <ImageMapper src={carScheme} map={cartMap}\n        onLoad={() => load()}\n        onClick={area => clicked(area)}\n        //onMouseEnter={area => enterArea(area)}\n        //onMouseLeave={area => leaveArea(area)}\n        //onMouseMove={(area, _, evt) => moveOnArea(area, evt)}\n        //onImageClick={evt => clickedOutside(evt)}\n        //onImageMouseMove={evt => moveOnImage(evt)}\n      />}\n      </div>\n      <div className=\"order-list-container\">\n        {orderList}\n        <div className=\"total-cost\">\n          <span>Загальна вартість: {slotOrders.reduce((value, slot)=> value+slot.price, 0)} грн.</span>\n        </div>\n        <div className=\"handle-button\">\n          <button className=\"button\" onClick={handleBooking}>Забронювати</button>\n        </div>\n      </div>\n\n      </div>\n      </div>\n  );\n}\n\nexport default Ride;\n","import axios from 'axios';\nimport {\n    TICKET_BOOKING_REQUEST,\n    TICKET_BOOKING_SUCCESS,\n    TICKET_BOOKING_FAIL,\n    TICKET_ORDER_REQUEST,\n    TICKET_ORDER_SUCCESS,\n    TICKET_ORDER_FAIL,\n    TICKET_ORDER_CLEAR\n} from \"./actionTypes\";\n\nlet apiUrl = process.env.REACT_APP_API_URL;\n\nconst bookTickets = (props) => async (dispatch) => {\n  try {\n    dispatch({ type: TICKET_BOOKING_REQUEST });\n    dispatch({ type: TICKET_BOOKING_SUCCESS, payload: props });\n  } catch (error) {\n    dispatch({ type: TICKET_BOOKING_FAIL, payload: error.message });\n  }\n}\n\nconst placeOrder = (props) => async (dispatch) => {\n  try {\n    dispatch({ type: TICKET_ORDER_REQUEST });\n    await axios.post(apiUrl + \"/api/orders\", props);\n    dispatch({ type: TICKET_ORDER_SUCCESS });\n  } catch (error) {\n    dispatch({ type: TICKET_ORDER_FAIL, payload: error.message });\n  }\n}\n  \nconst clearOrder = () => async (dispatch) => {\n  dispatch({ type: TICKET_ORDER_CLEAR });\n}\n\nexport { bookTickets, placeOrder, clearOrder };","export const RIDE_LIST_REQUEST = 'RIDE_LIST_REQUEST'\nexport const RIDE_LIST_SUCCESS = 'RIDE_LIST_SUCCESS'\nexport const RIDE_LIST_FAIL = 'RIDE_LIST_FAIL'\nexport const RIDE_DETAILS_REQUEST = 'RIDE_DETAILS_REQUEST' \nexport const RIDE_DETAILS_SUCCESS = 'RIDE_DETAILS_SUCCESS'\nexport const RIDE_DETAILS_FAIL = 'RIDE_DETAILS_FAIL'\nexport const TICKET_BOOKING_REQUEST = 'TICKET_BOOKING_REQUEST' \nexport const TICKET_BOOKING_SUCCESS = 'TICKET_BOOKING_SUCCESS'\nexport const TICKET_BOOKING_FAIL = 'TICKET_BOOKING_FAIL'\nexport const  TICKET_ORDER_REQUEST = 'TICKET_ORDER_REQUEST'\nexport const  TICKET_ORDER_SUCCESS = 'TICKET_ORDER_SUCCESS'\nexport const  TICKET_ORDER_FAIL = 'TICKET_ORDER_FAIL'\nexport const  TICKET_ORDER_CLEAR = 'TICKET_ORDER_CLEAR'\n","import React from 'react';\n\nfunction rideSummary(props) {\n\nconst { ride } = props;\nconst availableSlots = ride.slots.reduce((count, slot) => slot.available ? ++count : count, 0);\nconst minPrice = ride.slots.reduce((price, slot) =>  price < slot.price ? price : slot.price );\n\n  return (\n    <div className=\"ride-summary\" onClick={props.onClick}>\n      <div className=\"ride-info\">\n\t\t<div className=\"connection-time\">\n\t\t\t<p className=\"departure-time\"> {ride.departTime} </p>\n\t\t\t<p className=\"departure-time\"> {ride.arrivalTime} </p>        \n\t\t</div>\n\t\t<div className=\"connection-stations\">\n\t\t\t<p className=\"station-name-label\"> {ride.depart}</p>\n  \t\t\t<p className=\"station-name-label\"> {ride.arrival} </p>        \n\t\t</div>\n\t\t<div>\n\t\t\t<p> {ride.travelTime} </p>\n\t\t</div>\t\n        <div>\n  \t\t\t<p> от {minPrice} грн.</p>\n\t\t\t<p>{availableSlots} мест доступно</p>\n\t\t</div>\n      </div>\n    </div>\n  );\n}\n\nexport default rideSummary;\n","import React from 'react';\nimport RideSummary from './rideSummary';\n\nfunction RidesList({rides, details}) {\n  return (\n    <div className=\"rides-list\" id=\"rides-list\">\n      { rides && rides.map(ride => {\n        return(\n          <RideSummary ride={ride} key={ride._id} onClick={() => details(ride._id)}/>\n        )\n      })}\n    </div> \n  );\n}\n\nexport default RidesList;","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport InputMask from 'react-input-mask';\nimport QR from '../media/Privat24_QR.jpg';\nimport { placeOrder } from '../actions/ticketActions';\n\nfunction Checkout() {\n  const {tickets} = useSelector(state => state.bookedTickets);\n  const {ride} = useSelector(state => state.rideDetails);\n  const [ payMethod, setMethod] = useState('Card');\n  const [ phone, setPhone] = useState('');\n  const dispatch = useDispatch();\n\n  const ticketList = tickets.map((item, index) => {\n    return( \n      <div className=\"ticket-wrapper\" key={index}> \n        <div className=\"ticket-name\">Вагон: {item.wagon} Місце: {item.seatNumber} Ціна: {item.price}</div>\n      </div>)\n  })\n\n  const payment = () => {\n    switch (payMethod) {\n      case 'Privat24':\n        return <div>\n          <img className=\"qr-image\" src={QR} alt=\"qr-code\"/>\n        </div>;\n      case 'GooglePay':\n        return <div className=\"select-input\">\n          <input className=\"input-form left\" placeholder='gmail account' type=\"email\"/> \n        </div>;\n      case 'Card':\n        return <div>\n        <div className=\"input-form-wrapper\">\n          <div className=\"input-wrapper\">\n          <label>Номер картки</label>\n          <InputMask className=\"input-form\" mask=\"9999 9999 9999 9999\" maskChar=\" \"  placeholder='xxxx xxxx xxxx xxxx' type=\"card\"/>\n          </div>\n          <div className=\"input-wrapper-double\">\n          <div className=\"input-wrapper \">\n            <label>Строк дії</label>\n            <InputMask className=\"input-form half-size\" mask=\"99 / 99\" maskChar=\" \"  placeholder='MM / YY' type=\"card\"/>\n          </div>\n          <div className=\"input-wrapper\">\n          <label>CVV2</label>\n          <InputMask className=\"input-form half-size\" mask=\"999\" maskChar=\"\"  placeholder='***' type=\"card\"/>\n          </div>\n          </div>\n          <div className=\"input-wrapper\">\n          <label>Ім'я та прізвище</label>\n          <input className=\"input-form\" placeholder='CARDHOLDER NAME' type=\"name\"/> \n          </div>\n        </div>    \n      </div>;\n      default:\n        return null;\n    }\n  }\n\n  const onChangeValue = (event) => {\n      setMethod(event.target.value);\n  }\n\n  const handleOrder = () => {\n    if (phone !== '' ) \n     dispatch(placeOrder({rideId: ride._id, slots:tickets}));\n  }\n  \n  return (\n    <div className=\"checkout\">\n      <div className=\"tickets-summary\">\n        <span>{ride.date.substring(0, 10)} {ride.departTime}</span>\n        <span>{ride.depart}-{ride.arrival}</span>\n        <span>Загальна вартість: {tickets.reduce((value, slot)=> value+slot.price, 0)} грн.</span>\n        <br/>\n        <span>Ваші квітки:</span>\n      </div>\n      <div className=\"\">{ticketList}</div>\n      <div onChange={onChangeValue} className=\"payment-method-wrapper\">\n        <div>\n          <label>Оберіть метод сплати:</label>\n        </div>\n        <div >\n            <input id=\"Privat24\" type=\"radio\" value=\"Privat24\" name=\"gender\" /> \n            <label htmlFor=\"Privat24\">Приват24</label>\n        </div>\n        <div>\n          <input id=\"GooglePay\" type=\"radio\" value=\"GooglePay\" name=\"gender\" />\n          <label htmlFor=\"GooglePay\">Google Pay</label>\n        </div>\n        <div>\n          <input id=\"Card\" type=\"radio\" value=\"Card\" name=\"gender\" checked={ payMethod === \"Card\" } readOnly /> \n          <label htmlFor=\"Card\">Visa, Mastercard</label>\n        </div>\n      </div>\n      {payment()}\n      <div className=\"phone-input\">\n          <label>Номер телефону(обов'язково)</label>\n          <InputMask className=\"input-form center\" mask=\"+38 (999) 999-99-99\" maskChar=\" \"  placeholder='+38 (xxx) xxx-xx-xx' type=\"card\" onChange={(e)=>setPhone(e.target.value)}/>\n          </div>\n      <button className=\"button\" onClick={handleOrder}>Підтвердити</button>\n    </div>\n  );\n}\n\nexport default Checkout;","import React from 'react';\nimport { clearOrder } from '../actions/ticketActions';\nimport { useDispatch } from 'react-redux';\n\nfunction RidesList({rides, details}) {\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    dispatch(clearOrder());\n  }\n\n  return (\n    <div className=\"success\" id=\"success\">\n      <p>Дякуємо за заказ</p>\n      <p>Информацію про Ваш заказ буде відправлено на вказаний телефон</p>\n      <button className=\"button\" onClick={handleClick}>Зрозуміло</button>\n    </div> \n  );\n}\n\nexport default RidesList;","import React, { Fragment, useState } from 'react';\nimport Select from 'react-select'\nimport { cities } from './data/';\nimport DayPicker  from 'react-day-picker';\nimport MomentLocaleUtils from 'react-day-picker/moment';\nimport 'moment/locale/uk';\nimport 'react-day-picker/lib/style.css';\n\nimport Ride from './ride.js'\nimport RidesList from './ridesList.js'\nimport Checkout from './checkout.js'\nimport Success from './success.js'\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { listRides, rideDetails } from '../actions/rideActions';\n\nfunction Main() {\n\nconst [rideRequest, setRideRequest] = useState(\n    {\n    departCity: null,\n    arrivalCity: null,\n    selectedDay: null,\n    }\n  );\nconst dispatch = useDispatch();\nconst [ message, setMessage] = useState('');\n  \nconst {tickets, success} = useSelector(state => state.bookedTickets)\nconst ridesList = useSelector(state => state.rideList);\nconst {rides} = ridesList;\nconst {ride, wagons} = useSelector(state => state.rideDetails);\n\nconst today = new Date();\n\nconst handleDepartCity  = (city) => {\n\tcity ? setRideRequest({...rideRequest, departCity: city.value})\n       : setRideRequest({...rideRequest, departCity: null\t})\n}\n\nconst handleArrivalCity  = (city) => {\n  city ? setRideRequest({...rideRequest, arrivalCity: city.value})\n        : setRideRequest({...rideRequest, arrivalCity: null})\n}\n\nconst handleDayClick = (day, { selected }) =>  {\n  setRideRequest({...rideRequest, selectedDay: selected ? undefined : day });\n}\n\nconst handleRideSearch = () => {\n    (!rideRequest.departCity ) ? setMessage('Введіть місто відправленя') :\n    (!rideRequest.arrivalCity ) ? setMessage('Введіть місто прибуття') :\n    (!rideRequest.selectedDay ) ? setMessage('Введіть дату відправленя') : \n    dispatch(listRides({depart:rideRequest.departCity,arrival:rideRequest.arrivalCity,date:rideRequest.selectedDay.toISOString()}))\n    .then(document.getElementById(\"rides-list\").scrollIntoView())\n    .then(setMessage(''));\n}\n\nconst handleRideDetails = (id) => {\n  const rideChoosen = rides.find(ride => ride._id === id);\n  dispatch(rideDetails(rideChoosen))\n}\n\n  return (\n  <Fragment>\n    <div className=\"main\">\n      <div className=\"primary-input\">\n      <div className=\"select-wrapper\">\n        <div className=\"select-input\">\n          <Select \n            className='select-search' \n            placeholder=\"Звідки\"\n            options={cities} \n            onChange={handleDepartCity}\n            isClearable\n          />\n        </div>\n        <div className=\"select-input\">\n          <Select  \n            className='select-search' \n            placeholder=\"Куди\"\n            options={cities} \n            onChange={handleArrivalCity}\n            isClearable\n          />\n        </div>\n      </div>\n\n      <div className=\"calendar-wrapper\">\n\t\t\t\t<DayPicker \n\t\t\t\t\tclassName=\"\" \n\t\t\t\t\tdisabledDays={{ before: today }}\n          selectedDays={rideRequest.selectedDay}\n          onDayClick={handleDayClick}\n\n\t\t\t\t\tlocaleUtils={MomentLocaleUtils} \n\t\t\t\t\tlocale=\"uk\" \n\t\t\t\t\tnumberOfMonths={window.innerWidth > 600 ? 2 : 1}\n\t\t\t\t/>\n      </div>\n      \n        <p className='error-message'>{message}</p>\n        <button \n          className=\"button\"\n          onClick={handleRideSearch}\n        >\n        Ты кнопка блять\n        </button>\n      </div>\n      <RidesList rides={rides} details={handleRideDetails} />\n\n      {(Array.isArray(wagons) && wagons.length) ? <Ride ride={ride} wagons={wagons} /> : null}\n      {(tickets.length) && (ride.date) ? <Checkout/> : null}\n      {(success) ? <Success/> : null }\n    </div>\n    </Fragment>\n  );\n}\n\nexport default Main;\n","import {\n    RIDE_LIST_REQUEST, \n    RIDE_LIST_SUCCESS, \n    RIDE_LIST_FAIL,\n    RIDE_DETAILS_REQUEST,\n    RIDE_DETAILS_SUCCESS,\n    RIDE_DETAILS_FAIL,\n  } from \"./actionTypes\";\nimport axios from 'axios';\nlet apiUrl = process.env.REACT_APP_API_URL;\n\nconst listRides = (props) => async (dispatch) => {\n  try {\n    dispatch({ type: RIDE_LIST_REQUEST });\n    const { data } = await axios.post(apiUrl + \"/api/rides\", props);\n    dispatch({ type: RIDE_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: RIDE_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst rideDetails = (props) => async (dispatch) => {\n  try {\n    dispatch({ type: RIDE_DETAILS_REQUEST });\n    let carts = props.carts.map(a => a.carType);\n    let result = carts.filter((v, i, a) => a.indexOf(v) === i);\n    const {data} = await axios.post(apiUrl + \"/api/wagons\", {wagons:result});\n    dispatch({ type: RIDE_DETAILS_SUCCESS, payload: {ride: props, wagons: data.wagons } });\n  } catch (error) {\n    dispatch({ type: RIDE_DETAILS_FAIL, payload: error.message });\n  }\n}\n\nexport { listRides, rideDetails };","import React from 'react';\nimport './App.css';\nimport Main from './components/main.js'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className='container'>\n      </div>\n      <header className=\"App-header\">\n      \t<Main/>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rideListReducer, rideDetailsReducer } from './reducers/rideReducer';\nimport { bookTicketsReducer } from './reducers/ticketReducer';\n\nconst initialState = {\n    rideDetails: { wagons: [] }\n};\n\nconst reducer = combineReducers({\n    rideList: rideListReducer,\n    rideDetails: rideDetailsReducer,\n    bookedTickets: bookTicketsReducer\n})\n\nconst composeEnhancer = compose;\nconst store = createStore(reducer, initialState, composeEnhancer(applyMiddleware(thunk)));\nexport default store;","import { \n    RIDE_LIST_REQUEST, \n    RIDE_LIST_SUCCESS, \n    RIDE_LIST_FAIL,\n    RIDE_DETAILS_REQUEST,\n    RIDE_DETAILS_SUCCESS,\n    RIDE_DETAILS_FAIL,\n    TICKET_ORDER_SUCCESS,\n} from \"../actions/actionTypes\";\n\nfunction rideListReducer(state = { loading: true, rides: [] }, action) {\n\nswitch (action.type) {\n    case RIDE_LIST_REQUEST:\n        return { loading: true, rides: [] };\n    case TICKET_ORDER_SUCCESS:\n        return { loading: true, rides: [] };\n    case RIDE_LIST_SUCCESS: \n        return { loading: false, rides: action.payload.rides };\n    case RIDE_LIST_FAIL:\n        return { loading: false, error: action.payload }\n    default:\n        return state;\n    }\n}\n\nfunction rideDetailsReducer(state = { loading: true, ride: {}, wagons: [] }, action) {\n\n    switch (action.type) {\n        case RIDE_DETAILS_REQUEST:\n            return { loading: true, ride: {}, wagons: [] };\n        case TICKET_ORDER_SUCCESS:\n            return { loading: true, ride: {}, wagons: [] };\n        case RIDE_DETAILS_SUCCESS: \n            return { loading: false, ride: action.payload.ride, wagons: action.payload.wagons };\n        case RIDE_DETAILS_FAIL:\n            return { loading: false, error: action.payload }\n        default:\n            return state;\n        }\n    }\n\n\nexport { rideListReducer, rideDetailsReducer }","import {\n    TICKET_BOOKING_REQUEST,\n    TICKET_BOOKING_SUCCESS,\n    TICKET_BOOKING_FAIL,\n    TICKET_ORDER_SUCCESS,\n    TICKET_ORDER_FAIL,\n    TICKET_ORDER_CLEAR\n} from \"../actions/actionTypes\"\n\nfunction bookTicketsReducer(state = { loading: true, success: false, tickets: [] }, action) {\n\n  switch (action.type) {\n    case TICKET_ORDER_SUCCESS:\n      return { loading: false, success: true, tickets: [] };\n    case TICKET_ORDER_FAIL:\n      return { loading: false, error: action.payload };\n    case TICKET_ORDER_CLEAR:\n      return { loading: false, success: false, tickets: [] };      \n    case TICKET_BOOKING_REQUEST:\n      return { loading: true, tickets: [] };\n    case TICKET_BOOKING_SUCCESS: \n      return { loading: false, tickets: action.payload };\n    case TICKET_BOOKING_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nexport { bookTicketsReducer }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport store from './store'\nimport * as serviceWorker from './serviceWorker';\n\nconst app = \n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}