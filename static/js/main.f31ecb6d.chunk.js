(this["webpackJsonpreact-booking"]=this["webpackJsonpreact-booking"]||[]).push([[0],{47:function(e,t,a){e.exports=a.p+"static/media/carScheme.5212d7e4.png"},51:function(e,t,a){e.exports=a.p+"static/media/Privat24_QR.29dd6ddf.jpg"},57:function(e,t,a){e.exports=a(99)},66:function(e,t,a){},67:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=a(54),l=a(4),o=(a(66),a(67),a(1)),u=a(6),p=a(32),m=[{label:"\u041a\u0438\u0457\u0432",value:"\u041a\u0438\u0457\u0432"},{label:"\u0425\u0430\u0440\u043a\u0456\u0432",value:"\u0425\u0430\u0440\u043a\u0456\u0432"},{label:"\u041b\u044c\u0432\u0456\u0432",value:"\u041b\u044c\u0432\u0456\u0432"},{label:"\u0414\u043d\u0456\u043f\u0440\u043e",value:"\u0414\u043d\u0456\u043f\u0440\u043e"},{label:"\u041e\u0434\u0435\u0441\u0430",value:"\u041e\u0434\u0435\u0441\u0430"}],d=a(45),h=a.n(d),v=a(46),E=a.n(v),f=(a(77),a(78),a(25)),b=a(47),y=a.n(b),g=a(48),C=a(49),k=a(24),O=a(56),w=a(55),x=a(50),N=a.n(x),S=function(e){Object(O.a)(a,e);var t=Object(w.a)(a);function a(e){var n;Object(g.a)(this,a),n=t.call(this,e),["drawrect","drawcircle","drawpoly","initCanvas","renderPrefilledAreas"].forEach((function(e){return n[e]=n[e].bind(Object(k.a)(n))}));var r={position:"absolute",top:0,left:0};return n.styles={container:{position:"relative"},canvas:Object(o.a)(Object(o.a)({},r),{},{pointerEvents:"none",zIndex:2}),img:Object(o.a)(Object(o.a)({},r),{},{zIndex:1,userSelect:"none"}),map:e.onClick&&{cursor:"pointer"}||void 0},n.watchedProps=["active","fillColor","height","imgWidth","lineWidth","src","strokeColor","width","map"],n}return Object(C.a)(a,[{key:"shouldComponentUpdate",value:function(e){var t=this,a=this.watchedProps.some((function(a){return t.props[a]!==e[a]}));return!N()(this.props.map,this.state.map)||a}},{key:"componentWillMount",value:function(){this.updateCacheMap()}},{key:"updateCacheMap",value:function(){this.setState({map:JSON.parse(JSON.stringify(this.props.map))},this.initCanvas)}},{key:"componentDidUpdate",value:function(){this.updateCacheMap(),this.initCanvas()}},{key:"drawrect",value:function(e,t,a,n){var r=Object(u.a)(e,4),c=r[0],i=r[1],s=r[2],l=r[3];this.ctx.fillStyle=t,this.ctx.lineWidth=a,this.ctx.strokeStyle=n,this.ctx.strokeRect(c,i,s-c,l-i),this.ctx.fillRect(c,i,s-c,l-i),this.ctx.fillStyle=this.props.fillColor}},{key:"drawcircle",value:function(e,t,a,n){this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.lineWidth=a,this.ctx.strokeStyle=n,this.ctx.arc(e[0],e[1],e[2],0,2*Math.PI),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.fillStyle=this.props.fillColor}},{key:"drawpoly",value:function(e,t,a,n){var r=this;e=e.reduce((function(e,t,a,n){return a%2?e:[].concat(Object(f.a)(e),[n.slice(a,a+2)])}),[]),this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.lineWidth=a,this.ctx.strokeStyle=n;var c=e.unshift();this.ctx.moveTo(c[0],c[1]),e.forEach((function(e){return r.ctx.lineTo(e[0],e[1])})),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),this.ctx.fillStyle=this.props.fillColor}},{key:"initCanvas",value:function(){this.props.width&&(this.img.width=this.props.width),this.props.height&&(this.img.height=this.props.height),this.canvas.width=this.props.width||this.img.clientWidth,this.canvas.height=this.props.height||this.img.clientHeight,this.container.style.width=(this.props.width||this.img.clientWidth)+"px",this.container.style.height=(this.props.height||this.img.clientHeight)+"px",this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle=this.props.fillColor,this.props.onLoad&&this.props.onLoad(),this.renderPrefilledAreas()}},{key:"hoverOn",value:function(e,t,a){var n=a.target.getAttribute("shape");!e.disabled&&this["draw"+n]&&this["draw"+n](a.target.getAttribute("coords").split(","),e.fillColor,e.lineWidth||this.props.lineWidth,e.strokeColor||this.props.strokeColor),this.props.onMouseEnter&&this.props.onMouseEnter(e,t,a)}},{key:"hoverOff",value:function(e,t,a){this.props.active&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderPrefilledAreas()),this.props.onMouseLeave&&this.props.onMouseLeave(e,t,a)}},{key:"click",value:function(e,t,a){this.props.onClick&&(a.preventDefault(),this.props.onClick(e,t,a))}},{key:"imageClick",value:function(e){this.props.onImageClick&&(e.preventDefault(),this.props.onImageClick(e))}},{key:"mouseMove",value:function(e,t,a){this.props.onMouseMove&&this.props.onMouseMove(e,t,a)}},{key:"imageMouseMove",value:function(e,t,a){this.props.onImageMouseMove&&this.props.onImageMouseMove(e,t,a)}},{key:"scaleCoords",value:function(e){var t=this.props,a=t.imgWidth,n=t.width,r=n&&a&&a>0?n/a:1;return e.map((function(e){return e*r}))}},{key:"renderPrefilledAreas",value:function(){var e=this;this.state.map.areas.map((function(t){t.preFillColor&&e["draw"+t.shape](e.scaleCoords(t.coords),t.preFillColor,t.lineWidth||e.props.lineWidth,t.strokeColor||e.props.strokeColor)}))}},{key:"computeCenter",value:function(e){if(!e)return[0,0];var t=this.scaleCoords(e.coords);switch(e.shape){case"circle":return[t[0],t[1]];case"poly":case"rect":default:var a=t.length/2,n=t.reduce((function(e,t,n){var r=e.y,c=e.x;return n%2?{y:r+t/a,x:c}:{y:r,x:c+t/a}}),{y:0,x:0}),r=n.y;return[n.x,r]}}},{key:"renderAreas",value:function(){var e=this;return this.state.map.areas.map((function(t,a){var n=e.scaleCoords(t.coords),c=e.computeCenter(t),i=Object(o.a)(Object(o.a)({},t),{},{scaledCoords:n,center:c});return r.a.createElement("area",{key:t._id||a,shape:t.shape,coords:n.join(","),onMouseEnter:e.hoverOn.bind(e,i,a),onMouseLeave:e.hoverOff.bind(e,i,a),onMouseMove:e.mouseMove.bind(e,i,a),onClick:e.click.bind(e,i,a),href:t.href})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:this.styles.container,ref:function(t){return e.container=t}},r.a.createElement("img",{style:this.styles.img,src:this.props.src,useMap:"#".concat(this.state.map.name),alt:"",ref:function(t){return e.img=t},onLoad:this.initCanvas,onClick:this.imageClick.bind(this),onMouseMove:this.imageMouseMove.bind(this)}),r.a.createElement("canvas",{ref:function(t){return e.canvas=t},style:this.styles.canvas}),r.a.createElement("map",{name:this.state.map.name,style:this.styles.map},this.renderAreas()))}}]),a}(n.Component);S.defaultProps={active:!0,fillColor:"rgba(255, 255, 255, 0.5)",lineWidth:1,map:{areas:[],name:"image-map-"+Math.random()},strokeColor:"rgba(0, 0, 0, 0.5)"};var j=a(9),I=a.n(j),T=a(12),_=a(16),R=a.n(_);var D=function(e){var t=e.ride,a=e.wagons,c=Object(l.b)(),i=Object(n.useState)(0),s=Object(u.a)(i,2),p=s[0],m=s[1],d=Object(n.useState)(t),h=Object(u.a)(d,2),v=h[0],E=h[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),C=g[0],k=g[1],O=Object(n.useState)(t.carts[0]),w=Object(u.a)(O,2),x=w[0],N=w[1],j=Object(n.useState)({name:"my-map",areas:[]}),_=Object(u.a)(j,2),R=_[0],D=_[1];Object(n.useEffect)((function(){var e=x&&a.find((function(e){return e.name===x.carType})),t=[];return v.slots.forEach((function(a){if(a.cartNumber===x.number){var n=e.slots.find((function(e){return e.name===a.seatNumber}));t.push({disabled:!a.available,name:a.seatNumber,shape:"rect",coords:n.coords,preFillColor:a.available?"":"rgba(255, 0, 0, 0.5)",fillColor:"rgba(0, 0, 255, 0.3)",available:a.available,price:a.price})}})),D(Object(o.a)(Object(o.a)({},R),{},{areas:t})),function(){}}),[x,v]);var M=C.map((function(e,t){return r.a.createElement("div",{className:"slot-wrapper",key:t},r.a.createElement("div",{className:""},r.a.createElement("p",null,"\u0412\u0430\u0433\u043e\u043d\xa0",e.wagon," \u041c\u0456\u0441\u0446\u0435\xa0",e.seatNumber)),r.a.createElement("div",{className:""},r.a.createElement("button",{onClick:function(){return L(e.wagon,e.seatNumber)},className:"button-remove"},"X")))})),L=function(e,t){k(C.filter((function(a){return a.seatNumber!==t||a.wagon!==e}))),A(e,t)},A=function(e,t){var a=v.slots,n=a.findIndex((function(a){return a.seatNumber===t&&a.cartNumber===e}));a[n]=Object(o.a)(Object(o.a)({},a[n]),{},{available:!a[n].available}),E(Object(o.a)(Object(o.a)({},v),{},{slots:a}))},K=v.carts.map((function(e,t){return r.a.createElement("div",{className:"cart-tabs ".concat(x.number===e.number?"cart-selected":null),key:t,onClick:function(){return function(e){N(e)}(e)}},r.a.createElement("p",null," \u0412\u0430\u0433\u043e\u043d ",e.number),r.a.createElement("p",null," ",e.carType," "))})),P=function(e){!function(e){if(!e.disabled){var t=C.filter((function(t){return t.seatNumber!==e.name||t.wagon!==x.number}));k([].concat(Object(f.a)(t),[{wagon:x.number,seatNumber:e.name,price:e.price}])),A(x.number,e.name)}}(e),m(Object(o.a)(Object(o.a)({},p),{},{msg:"\u041c\u0456\u0441\u0446\u0435 \u043d\u043e\u043c\u0435\u0440 ".concat(e.name," \u043a\u043e\u0448\u0442\u0443\u0454 ").concat(e.price," ").concat(e.available?"\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435":"\u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435")}))};return r.a.createElement("div",{className:"Main"},r.a.createElement("div",{className:"tabs-wrapper"},K),r.a.createElement("div",{className:"scheme-wrapper"},r.a.createElement("div",{className:"scheme-container"},R&&r.a.createElement(S,{src:y.a,map:R,onLoad:function(){m(Object(o.a)(Object(o.a)({},p),{},{msg:"Interact with image !"}))},onClick:function(e){return P(e)}})),r.a.createElement("div",{className:"order-list-container"},M,r.a.createElement("div",{className:"total-cost"},r.a.createElement("span",null,"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c: ",C.reduce((function(e,t){return e+t.price}),0)," \u0433\u0440\u043d.")),r.a.createElement("div",{className:"handle-button"},r.a.createElement("button",{className:"button",onClick:function(){var e;c((e=C,function(){var t=Object(T.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"TICKET_BOOKING_REQUEST"}),a({type:"TICKET_BOOKING_SUCCESS",payload:e})}catch(n){a({type:"TICKET_BOOKING_FAIL",payload:n.message})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}},"\u0417\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u0442\u0438")))))};var M=function(e){var t=e.ride,a=t.slots.reduce((function(e,t){return t.available?++e:e}),0),n=t.slots.reduce((function(e,t){return e<t.price?e:t.price}));return r.a.createElement("div",{className:"ride-summary",onClick:e.onClick},r.a.createElement("div",{className:"ride-info"},r.a.createElement("div",{className:"connection-time"},r.a.createElement("p",{className:"departure-time"}," ",t.departTime," "),r.a.createElement("p",{className:"departure-time"}," ",t.arrivalTime," ")),r.a.createElement("div",{className:"connection-stations"},r.a.createElement("p",{className:"station-name-label"}," ",t.depart),r.a.createElement("p",{className:"station-name-label"}," ",t.arrival," ")),r.a.createElement("div",null,r.a.createElement("p",null," ",t.travelTime," ")),r.a.createElement("div",null,r.a.createElement("p",null," \u043e\u0442 ",n," \u0433\u0440\u043d."),r.a.createElement("p",null,a," \u043c\u0435\u0441\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"))))};var L=function(e){var t=e.rides,a=e.details;return r.a.createElement("div",{className:"rides-list",id:"rides-list"},t&&t.map((function(e){return r.a.createElement(M,{ride:e,key:e._id,onClick:function(){return a(e._id)}})})))},A=a(17),K=a.n(A),P=a(51),U=a.n(P);var W=function(){var e=Object(l.c)((function(e){return e.bookedTickets})).tickets,t=Object(l.c)((function(e){return e.rideDetails})).ride,a=Object(n.useState)("Card"),c=Object(u.a)(a,2),i=c[0],s=c[1],o=Object(n.useState)(""),p=Object(u.a)(o,2),m=p[0],d=p[1],h=Object(l.b)(),v=e.map((function(e,t){return r.a.createElement("div",{className:"ticket-wrapper",key:t},r.a.createElement("div",{className:"ticket-name"},"\u0412\u0430\u0433\u043e\u043d: ",e.wagon," \u041c\u0456\u0441\u0446\u0435: ",e.seatNumber," \u0426\u0456\u043d\u0430: ",e.price))}));return r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"tickets-summary"},r.a.createElement("span",null,t.date.substring(0,10)," ",t.departTime),r.a.createElement("span",null,t.depart,"-",t.arrival),r.a.createElement("span",null,"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c: ",e.reduce((function(e,t){return e+t.price}),0)," \u0433\u0440\u043d."),r.a.createElement("br",null),r.a.createElement("span",null,"\u0412\u0430\u0448\u0456 \u043a\u0432\u0456\u0442\u043a\u0438:")),r.a.createElement("div",{className:""},v),r.a.createElement("div",{onChange:function(e){s(e.target.value)},className:"payment-method-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0435\u0442\u043e\u0434 \u0441\u043f\u043b\u0430\u0442\u0438:")),r.a.createElement("div",null,r.a.createElement("input",{id:"Privat24",type:"radio",value:"Privat24",name:"gender"}),r.a.createElement("label",{htmlFor:"Privat24"},"\u041f\u0440\u0438\u0432\u0430\u044224")),r.a.createElement("div",null,r.a.createElement("input",{id:"GooglePay",type:"radio",value:"GooglePay",name:"gender"}),r.a.createElement("label",{htmlFor:"GooglePay"},"Google Pay")),r.a.createElement("div",null,r.a.createElement("input",{id:"Card",type:"radio",value:"Card",name:"gender",checked:"Card"===i,readOnly:!0}),r.a.createElement("label",{htmlFor:"Card"},"Visa, Mastercard"))),function(){switch(i){case"Privat24":return r.a.createElement("div",null,r.a.createElement("img",{className:"qr-image",src:U.a,alt:"qr-code"}));case"GooglePay":return r.a.createElement("div",{className:"select-input"},r.a.createElement("input",{className:"input-form left",placeholder:"gmail account",type:"email"}));case"Card":return r.a.createElement("div",null,r.a.createElement("div",{className:"input-form-wrapper"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",null,"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u043a\u0438"),r.a.createElement(K.a,{className:"input-form",mask:"9999 9999 9999 9999",maskChar:" ",placeholder:"xxxx xxxx xxxx xxxx",type:"card"})),r.a.createElement("div",{className:"input-wrapper-double"},r.a.createElement("div",{className:"input-wrapper "},r.a.createElement("label",null,"\u0421\u0442\u0440\u043e\u043a \u0434\u0456\u0457"),r.a.createElement(K.a,{className:"input-form half-size",mask:"99 / 99",maskChar:" ",placeholder:"MM / YY",type:"card"})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",null,"CVV2"),r.a.createElement(K.a,{className:"input-form half-size",mask:"999",maskChar:"",placeholder:"***",type:"card"}))),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",null,"\u0406\u043c'\u044f \u0442\u0430 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"),r.a.createElement("input",{className:"input-form",placeholder:"CARDHOLDER NAME",type:"name"}))));default:return null}}(),r.a.createElement("div",{className:"phone-input"},r.a.createElement("label",null,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443(\u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e)"),r.a.createElement(K.a,{className:"input-form center",mask:"+38 (999) 999-99-99",maskChar:" ",placeholder:"+38 (xxx) xxx-xx-xx",type:"card",onChange:function(e){return d(e.target.value)}})),r.a.createElement("button",{className:"button",onClick:function(){var a;""!==m&&h((a={rideId:t._id,slots:e},function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"TICKET_ORDER_REQUEST"}),e.next=4,R.a.post("https://react-booking-api.herokuapp.com/api/orders",a);case 4:t({type:"TICKET_ORDER_SUCCESS"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"TICKET_ORDER_FAIL",payload:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}},"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"))};var F=function(e){e.rides,e.details;var t=Object(l.b)();return r.a.createElement("div",{className:"success",id:"success"},r.a.createElement("p",null,"\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437"),r.a.createElement("p",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),r.a.createElement("button",{className:"button",onClick:function(){t(function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"TICKET_ORDER_CLEAR"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e"))};var G=function(){var e=Object(n.useState)({departCity:null,arrivalCity:null,selectedDay:null}),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(l.b)(),s=Object(n.useState)(""),d=Object(u.a)(s,2),v=d[0],f=d[1],b=Object(l.c)((function(e){return e.bookedTickets})),y=b.tickets,g=b.success,C=Object(l.c)((function(e){return e.rideList})).rides,k=Object(l.c)((function(e){return e.rideDetails})),O=k.ride,w=k.wagons,x=new Date;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"primary-input"},r.a.createElement("div",{className:"select-wrapper"},r.a.createElement("div",{className:"select-input"},r.a.createElement(p.a,{className:"select-search",placeholder:"\u0417\u0432\u0456\u0434\u043a\u0438",options:m,onChange:function(e){c(e?Object(o.a)(Object(o.a)({},a),{},{departCity:e.value}):Object(o.a)(Object(o.a)({},a),{},{departCity:null}))},isClearable:!0})),r.a.createElement("div",{className:"select-input"},r.a.createElement(p.a,{className:"select-search",placeholder:"\u041a\u0443\u0434\u0438",options:m,onChange:function(e){c(e?Object(o.a)(Object(o.a)({},a),{},{arrivalCity:e.value}):Object(o.a)(Object(o.a)({},a),{},{arrivalCity:null}))},isClearable:!0}))),r.a.createElement("div",{className:"calendar-wrapper"},r.a.createElement(h.a,{className:"",disabledDays:{before:x},selectedDays:a.selectedDay,onDayClick:function(e,t){var n=t.selected;c(Object(o.a)(Object(o.a)({},a),{},{selectedDay:n?void 0:e}))},localeUtils:E.a,locale:"uk",numberOfMonths:window.innerWidth>600?2:1})),r.a.createElement("p",{className:"error-message"},v),r.a.createElement("button",{className:"button",onClick:function(){var e;a.departCity?a.arrivalCity?a.selectedDay?i((e={depart:a.departCity,arrival:a.arrivalCity,date:a.selectedDay.toISOString()},function(){var t=Object(T.a)(I.a.mark((function t(a){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"RIDE_LIST_REQUEST"}),t.next=4,R.a.post("https://react-booking-api.herokuapp.com/api/rides",e);case 4:n=t.sent,r=n.data,a({type:"RIDE_LIST_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"RIDE_LIST_FAIL",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())).then(document.getElementById("rides-list").scrollIntoView()).then(f("")):f("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u0442\u0443 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044f"):f("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e \u043f\u0440\u0438\u0431\u0443\u0442\u0442\u044f"):f("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044f")}},"\u0422\u044b \u043a\u043d\u043e\u043f\u043a\u0430 \u0431\u043b\u044f\u0442\u044c")),r.a.createElement(L,{rides:C,details:function(e){var t,a=C.find((function(t){return t._id===e}));i((t=a,function(){var e=Object(T.a)(I.a.mark((function e(a){var n,r,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"RIDE_DETAILS_REQUEST"}),n=t.carts.map((function(e){return e.carType})),r=n.filter((function(e,t,a){return a.indexOf(e)===t})),e.next=6,R.a.post("https://react-booking-api.herokuapp.com/api/wagons",{wagons:r});case 6:c=e.sent,i=c.data,a({type:"RIDE_DETAILS_SUCCESS",payload:{ride:t,wagons:i.wagons}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"RIDE_DETAILS_FAIL",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}}),Array.isArray(w)&&w.length?r.a.createElement(D,{ride:O,wagons:w}):null,y.length&&O.date?r.a.createElement(W,null):null,g?r.a.createElement(F,null):null))};var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"}),r.a.createElement("header",{className:"App-header"},r.a.createElement(G,null)))},Q=a(11),z=a(53);var J=Object(Q.c)({rideList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,rides:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RIDE_LIST_REQUEST":case"TICKET_ORDER_SUCCESS":return{loading:!0,rides:[]};case"RIDE_LIST_SUCCESS":return{loading:!1,rides:t.payload.rides};case"RIDE_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},rideDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,ride:{},wagons:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RIDE_DETAILS_REQUEST":case"TICKET_ORDER_SUCCESS":return{loading:!0,ride:{},wagons:[]};case"RIDE_DETAILS_SUCCESS":return{loading:!1,ride:t.payload.ride,wagons:t.payload.wagons};case"RIDE_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},bookedTickets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,success:!1,tickets:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICKET_ORDER_REQUEST":case"TICKET_ORDER_SUCCESS":return{loading:!1,success:!0,tickets:[]};case"TICKET_ORDER_FAIL":return{loading:!1,error:t.payload};case"TICKET_ORDER_CLEAR":return{loading:!1,success:!1,tickets:[]};case"TICKET_BOOKING_REQUEST":return{loading:!0,tickets:[]};case"TICKET_BOOKING_SUCCESS":return{loading:!1,tickets:t.payload};case"TICKET_BOOKING_FAIL":return{loading:!1,error:t.payload};default:return e}}}),V=Q.d,H=Object(Q.e)(J,{rideDetails:{wagons:[]}},V(Object(Q.a)(z.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=r.a.createElement(l.a,{store:H},r.a.createElement(s.a,null,r.a.createElement(B,null)));i.a.render(q,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.f31ecb6d.chunk.js.map